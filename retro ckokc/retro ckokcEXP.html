<html>

<head>
    <link rel="stylesheet" " href="retrockokcEXP.css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:700i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Righteous&display=swap" rel="stylesheet">


</head>
<title>
    retro ckokc
</title>

<body>
    <h1 id="ckokc">r e t r o &emsp; c k o k c</h1>
    <h2 id="yourtotal">Your total : 0.00€</h2>
    <h3 id="incart">Items in cart : 0</h3>
    <hr>
    <div id="shop">
        <script>
            var items = [{
                    "id": 0,
                    "title": "Hat",
                    "imageURL": "https://i.imgur.com/HgIzJ0O.png",
                    "description": "A retro hat from 1972 wore by Jim Morrison. Size L",
                    "price": 25.99
                },
                {
                    "id": 1,
                    "title": "Guitar",
                    "imageURL": "https://i.imgur.com/1pc347r.png",
                    "description": "Used by Jimi Hendrix in Spain tour 1969. Left-handed.",
                    "price": 7560
                },
                {
                    "id": 2,
                    "title": "Headset",
                    "imageURL": "https://i.imgur.com/BU1u53U.png",
                    "description": "Mono/Stereo sound.",
                    "price": 129.99
                },
                {
                    "id": 3,
                    "title": "Backpack",
                    "imageURL": "https://i.imgur.com/WOGQ3ll.png",
                    "description": "25 liters travel fake-leather",
                    "price": 59.99
                },
                {
                    "id": 4,
                    "title": "Glasses",
                    "imageURL": "https://i.imgur.com/KQssRzO.png",
                    "description": "-3.75 left eye -4.25 right eye. Can you buy glasses like this somewhere else? You cannot.",
                    "price": 158.45
                },
                {
                    "id": 5,
                    "title": "Camera",
                    "imageURL": "https://i.imgur.com/hifcDsd.png",
                    "description": "Works only with Kodak Pro-289l films",
                    "price": 46.15
                },
                {
                    "id": 6,
                    "title": "Skate",
                    "imageURL": "https://i.imgur.com/KiZi7HQ.png",
                    "description": "Tony Hawks first skate.",
                    "price": 2500
                },
                {
                    "id": 7,
                    "title": "Shirt",
                    "imageURL": "https://i.imgur.com/4OZIWFV.png",
                    "description": "Wore by Elvis Presley in Acapulco film.",
                    "price": 756
                },
                {
                    "id": 8,
                    "title": "Sneakers",
                    "imageURL": "https://i.imgur.com/4GtCkkJ.png",
                    "description": "Used by Bugs Bunny in Space-Jam",
                    "price": 259.30
                },
                {
                    "id": 9,
                    "title": "Shoes",
                    "imageURL": "https://i.imgur.com/uRXDvwK.png",
                    "description": "Only one. Right foot.",
                    "price": 79.99
                },
                {
                    "id": 10,
                    "title": "Red Hat",
                    "imageURL": "https://i.imgur.com/qvwxXYY.png",
                    "description": "Outlander's costume. Unique piece!",
                    "price": 250
                },
                {
                    "id": 11,
                    "title": "Brown Beanie",
                    "imageURL": "https://i.imgur.com/zZAtqkD.png",
                    "description": "Want to be cool but look like idiot? Buy this hat.",
                    "price": 829.15
                },
                {
                    "id": 12,
                    "title": "Blue Jeans",
                    "imageURL": "https://i.imgur.com/PMFkkjS.png",
                    "description": "Blue jeans, white shirt. Walked into the room you know you made my eyes burn",
                    "price": 150.90
                },
                {
                    "id": 13,
                    "title": "Brown Pants",
                    "imageURL": "https://i.imgur.com/PmCMb4p.png",
                    "description": "They are so ugly that we give them out for almost nothing",
                    "price": 1.99
                },
                {
                    "id": 14,
                    "title": "Radio",
                    "imageURL": "https://i.imgur.com/Xd1YRFS.png",
                    "description": "AM only. Volume knob broken but works at max volume",
                    "price": 5.99
                }
            ];
            var cart = [];
            for (var index = 0; index < items.length; index++) {

                var total = 0;


                let item = items[index];

                var shopitem = document.createElement("div");           // THESE VARIABLES ARE FUCKING ASS AND I CAN'T COLLAPSE THEM LIKE AN ARRAY
                shopitem.classList.add("shopitem");
                shop.appendChild(shopitem);

                var image = document.createElement("img");
                image.src = items[index].imageURL;
                shopitem.appendChild(image);
                image.classList.add("image");

                var title = document.createElement("p");
                title.innerHTML = items[index].title;
                shopitem.appendChild(title);
                title.classList.add("title");

                var desc = document.createElement("h5");
                desc.innerHTML = items[index].description;
                shopitem.appendChild(desc);
                desc.classList.add("desc");

                var price = document.createElement("h1");
                price.innerHTML = items[index].price + "€";
                shopitem.appendChild(price);
                price.classList.add("info");

                var addbutton = document.createElement("button");
                addbutton.innerHTML = "Add to cart";
                addbutton.addEventListener("click", function () {

                    console.log("Added to cart!")
                    total = total + item.price;
                    console.log("Your total is : " + total.toFixed(2));
                    cart.push(item.title);
                    console.log("Items in cart : " + cart.length);
                    document.getElementById("yourtotal").innerHTML = "Your total : " + total.toFixed(2) + "€"; // display total under "retro ckokc"
                    document.getElementById("incart").innerHTML = "Items in cart : " + cart.length;

                    if (total <= 0) {
                    document.getElementById("incart").innerHTML = "Items in cart : 0";          // very fucking experimental stuff, don't touch if not tõnu
                    document.getElementById("yourtotal").innerHTML = "Your total : 0" + "€";    // very fucking experimental stuff, don't touch if not tõnu

                    }                                                                                
                })
                shopitem.appendChild(addbutton);
                addbutton.classList.add("button");

                var removebutton = document.createElement("button");
                removebutton.innerHTML = "Remove from cart";
                removebutton.addEventListener("click", function () {

                    console.log("Removed from cart.")
                    total = total - item.price;
                    console.log("Your total is : " + total.toFixed(2));
                    cart.pop(item.title);
                    console.log("Items in cart : " +  (cart.length)); // gives NaN, fuck
                    document.getElementById("yourtotal").innerHTML = "Your total : " + (total.toFixed(2)) + "€";
                    document.getElementById("incart").innerHTML = "Items in cart : " + cart.length;

                    if (total < 0) {                                                                   // very extremely bad experimental stuff, don't touch if not tõnu
                        document.getElementById("yourtotal").innerHTML = "Your total : 0.00" + "€";    // looks very fucking ugly
                        document.getElementById("incart").innerHTML = "Items in cart : 0";             // but it somehow works???
                        cart.length = 0;                                                               // and i don't want to waste time on changing it unless joe sucks me
                        total = 0;
                        alert("No items in cart!");
                    }
                })
                shopitem.appendChild(removebutton);
                removebutton.classList.add("button");


            }

        </script>
    </div>
</body>

</html>